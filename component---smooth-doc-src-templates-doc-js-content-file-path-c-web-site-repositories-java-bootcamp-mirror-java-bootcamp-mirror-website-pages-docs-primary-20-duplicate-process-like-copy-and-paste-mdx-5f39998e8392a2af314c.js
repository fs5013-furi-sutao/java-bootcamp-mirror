"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7292],{29096:function(e,r,a){a.r(r),a.d(r,{default:function(){return s}});var n=a(63696),c=a(43023);function t(e){const r=Object.assign({h1:"h1",a:"a",div:"div",h2:"h2",h3:"h3",p:"p",pre:"pre",code:"code"},(0,c.RP)(),e.components);return n.createElement(n.Fragment,null,n.createElement(r.h1,{id:"20-不吉なにおい--コピペのように処理を複製する",style:{position:"relative"}},n.createElement(r.a,{href:"#20-%E4%B8%8D%E5%90%89%E3%81%AA%E3%81%AB%E3%81%8A%E3%81%84--%E3%82%B3%E3%83%94%E3%83%9A%E3%81%AE%E3%82%88%E3%81%86%E3%81%AB%E5%87%A6%E7%90%86%E3%82%92%E8%A4%87%E8%A3%BD%E3%81%99%E3%82%8B","aria-label":"20 不吉なにおい  コピペのように処理を複製する permalink",className:"anchor before"},n.createElement(r.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"20. 不吉なにおい 🐽 コピペのように処理を複製する"),"\n",n.createElement("p",{className:"goal"},"重複処理がいたるところにあると、処理の見通しも悪くなり、同じ改修を複数やらなければならず、\r\n修正漏れが起きた場合、バグも起きてしまうことを知る"),"\n",n.createElement(r.h2,{id:"学習",style:{position:"relative"}},n.createElement(r.a,{href:"#%E5%AD%A6%E7%BF%92","aria-label":"学習 permalink",className:"anchor before"},n.createElement(r.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"学習"),"\n",n.createElement(r.h3,{id:"あれ同じようなコードがあちこちに",style:{position:"relative"}},n.createElement(r.a,{href:"#%E3%81%82%E3%82%8C%E5%90%8C%E3%81%98%E3%82%88%E3%81%86%E3%81%AA%E3%82%B3%E3%83%BC%E3%83%89%E3%81%8C%E3%81%82%E3%81%A1%E3%81%93%E3%81%A1%E3%81%AB","aria-label":"あれ同じようなコードがあちこちに permalink",className:"anchor before"},n.createElement(r.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"あれ？同じようなコードがあちこちに"),"\n",n.createElement(r.p,null,"「あれ？何かこのコードとそっくりな箇所、どこかで見たような・・・」"),"\n",n.createElement(r.p,null,"これは、「重複したコード」(Duplicate Code) という「不吉なにおい」の特徴です。"),"\n",n.createElement(r.p,null,"重複したコードというのは、複数の箇所に似たようなコードが散らばっている状態です。コードを安易にコピぺして処理を作ってしまうと、重複したコードがあちこちに散らばることになります。"),"\n",n.createElement(r.p,null,"コードが重複してしまうと、修正がしにくくなります。見つかったバグを取る時に、たくさんの箇所を修正するはめになるからです。"),"\n",n.createElement(r.h3,{id:"コピペコーディングの害",style:{position:"relative"}},n.createElement(r.a,{href:"#%E3%82%B3%E3%83%94%E3%83%9A%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E3%81%AE%E5%AE%B3","aria-label":"コピペコーディングの害 permalink",className:"anchor before"},n.createElement(r.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"コピペコーディングの害"),"\n",n.createElement(r.p,null,"コピペコーディングの害は、コードの量自体の増大やそれにともなう見通しの悪さだけではないです。"),"\n",n.createElement(r.p,null,"コピペ元の誤り（if 文の条件漏れなど）がそのまま伝播していき、バグがプロジェクト全体に広がっていくこともあり得ます。"),"\n",n.createElement(r.p,null,"また、バグを修正していくにしても、同じような部分を全て差分を見ながら、手で直していくという時間の掛かる作業が後々発生させることにもつながってしまうのです。"),"\n",n.createElement(r.h3,{id:"重複したコードはどうする",style:{position:"relative"}},n.createElement(r.a,{href:"#%E9%87%8D%E8%A4%87%E3%81%97%E3%81%9F%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AF%E3%81%A9%E3%81%86%E3%81%99%E3%82%8B","aria-label":"重複したコードはどうする permalink",className:"anchor before"},n.createElement(r.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"重複したコードはどうする？"),"\n",n.createElement(r.p,null,"重複したコードを見つけたら、まとまりを探してクラスやメソッドに切り出すようなリファクタリングを検討します。"),"\n",n.createElement(r.h2,{id:"練習問題時間-20-分",style:{position:"relative"}},n.createElement(r.a,{href:"#%E7%B7%B4%E7%BF%92%E5%95%8F%E9%A1%8C%E6%99%82%E9%96%93-20-%E5%88%86","aria-label":"練習問題時間 20 分 permalink",className:"anchor before"},n.createElement(r.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"練習問題（時間: 20 分）"),"\n",n.createElement(r.p,null,"次のプログラム IcecreamPrices.java について、重複した計算がなくなるようにリファクタリングしなさい"),"\n",n.createElement(r.h3,{id:"srcicecreampricesjava",style:{position:"relative"}},n.createElement(r.a,{href:"#srcicecreampricesjava","aria-label":"srcicecreampricesjava permalink",className:"anchor before"},n.createElement(r.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"src/IcecreamPrices.java"),"\n",n.createElement(r.pre,null,n.createElement(r.code,{className:"language-java"},'public class IcecreamPrices {\r\n\r\n    private static final String ICECREAM_CONTENT_FORMAT\r\n        = "%d 個盛り %s アイスの値段: %.0f 円 %n";\r\n\r\n    public static void main(String[] args) {\r\n\r\n        IceCream ic = new IceCream();\r\n        ic.flavor = "ピスタチオ";\r\n        ic.numberOfScoops = 2;\r\n\r\n        System.out.printf(\r\n            ICECREAM_CONTENT_FORMAT,\r\n            ic.numberOfScoops,\r\n            ic.flavor,\r\n            ic.numberOfScoops * ic.pricePerScoop\r\n        );\r\n\r\n        FruitSaladWithIceCream fs\r\n            = new FruitSaladWithIceCream();\r\n        fs.flavor = "チョコレート";\r\n        fs.numberOfScoops = 1;\r\n        fs.gramsOfFruitSalad = 50;\r\n\r\n        System.out.printf(\r\n            "%d グラムのフルーツサラダと ",\r\n            fs.gramsOfFruitSalad\r\n        );\r\n        System.out.printf(\r\n            ICECREAM_CONTENT_FORMAT,\r\n            fs.numberOfScoops,\r\n            fs.flavor,\r\n            fs.getFruitSaladWithIceCreamPrice()\r\n        );\r\n\r\n        PancakeWithIceCream pancakeWithIceCream\r\n            = new PancakeWithIceCream();\r\n        pancakeWithIceCream.flavor = "バニラ";\r\n        pancakeWithIceCream.numberOfScoops = 1;\r\n        pancakeWithIceCream.gramsOfPancake = 75;\r\n\r\n        System.out.printf(\r\n            "%d グラムのパンケーキと ",\r\n            pancakeWithIceCream.gramsOfPancake\r\n        );\r\n        System.out.printf(\r\n            ICECREAM_CONTENT_FORMAT,\r\n            pancakeWithIceCream.numberOfScoops,\r\n            pancakeWithIceCream.flavor,\r\n            pancakeWithIceCream.getPancakeWithIceCreamPrice()\r\n        );\r\n    }\r\n}\r\n\r\nclass IceCream {\r\n    String flavor;\r\n    int numberOfScoops;\r\n    double pricePerScoop;\r\n\r\n    IceCream() {\r\n        this.pricePerScoop = 35.0;\r\n    }\r\n}\r\n\r\nclass FruitSaladWithIceCream extends IceCream {\r\n    int gramsOfFruitSalad;\r\n    double pricePerGram;\r\n\r\n    FruitSaladWithIceCream() {\r\n        super();\r\n        pricePerGram = 0.75;\r\n    }\r\n\r\n    double getFruitSaladWithIceCreamPrice() {\r\n        double iceCreamPrice = numberOfScoops * pricePerScoop;\r\n\r\n        return gramsOfFruitSalad * pricePerGram + iceCreamPrice;\r\n    }\r\n}\r\n\r\nclass PancakeWithIceCream extends IceCream {\r\n    int gramsOfPancake;\r\n    double pricePerGram;\r\n\r\n    PancakeWithIceCream() {\r\n        super();\r\n        pricePerGram = 1.25;\r\n    }\r\n\r\n    double getPancakeWithIceCreamPrice() {\r\n        double iceCreamPrice = numberOfScoops * pricePerScoop;\r\n\r\n        return gramsOfPancake * pricePerGram + iceCreamPrice;\r\n    }\r\n}\n')),"\n",n.createElement(r.h3,{id:"icecreamprices-の実行結果",style:{position:"relative"}},n.createElement(r.a,{href:"#icecreamprices-%E3%81%AE%E5%AE%9F%E8%A1%8C%E7%B5%90%E6%9E%9C","aria-label":"icecreamprices の実行結果 permalink",className:"anchor before"},n.createElement(r.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"IcecreamPrices の実行結果"),"\n",n.createElement(r.pre,null,n.createElement(r.code,null,"2 個盛り ピスタチオ アイスの値段: 70 円\r\n50 グラムのフルーツサラダと 1 個盛り チョコレート アイスの値段: 73 円\r\n75 グラムのパンケーキと 1 個盛り バニラ アイスの値段: 129 円\n")),"\n",n.createElement(r.h2,{id:"解答例",style:{position:"relative"}},n.createElement(r.a,{href:"#%E8%A7%A3%E7%AD%94%E4%BE%8B","aria-label":"解答例 permalink",className:"anchor before"},n.createElement(r.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"解答例"),"\n",n.createElement(r.p,null,n.createElement(r.a,{href:"https://github.com/fs5013-furi-sutao/java-bootcamp-answers/blob/main/03.primary/20.duplicate-process-like-copy-and-paste/src/IcecreamPrices.java"},"https://github.com/fs5013-furi-sutao/java-bootcamp-answers/blob/main/03.primary/20.duplicate-process-like-copy-and-paste/src/IcecreamPrices.java")))}var i=function(e){void 0===e&&(e={});const{wrapper:r}=Object.assign({},(0,c.RP)(),e.components);return r?n.createElement(r,e,n.createElement(t,e)):t(e)};function l(e){let{children:r}=e;return r}function s(e){return n.createElement(l,e,n.createElement(i,e))}}}]);
//# sourceMappingURL=component---smooth-doc-src-templates-doc-js-content-file-path-c-web-site-repositories-java-bootcamp-mirror-java-bootcamp-mirror-website-pages-docs-primary-20-duplicate-process-like-copy-and-paste-mdx-5f39998e8392a2af314c.js.map
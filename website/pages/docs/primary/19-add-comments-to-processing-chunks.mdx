---
title: 19. ä¸å‰ãªã«ãŠã„ ğŸ½ å‡¦ç†ã®ã‹ãŸã¾ã‚Šã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’ä»˜ã‘ã‚‹
section: 03.åˆç´šç·¨
slug: /primary/19-add-comments-to-processing-chunks
order: 19
---

# 19. ä¸å‰ãªã«ãŠã„ ğŸ½ å‡¦ç†ã®ã‹ãŸã¾ã‚Šã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’ä»˜ã‘ã‚‹

<p className="goal">å‡¦ç†ã®ã‹ãŸã¾ã‚Šã«ä¸€è¨€ã‚³ãƒ¡ãƒ³ãƒˆã‚’ä»˜ã‘ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã¯ã€
  ãƒ¡ã‚½ãƒƒãƒ‰åŒ–ã§èª­ã¿ã‚„ã™ããªã‚‹ã‚µã‚¤ãƒ³ã§ã‚ã‚‹ã“ã¨ã‚’çŸ¥ã‚‹</p>

## å­¦ç¿’

### å‡¦ç†ã®ã‹ãŸã¾ã‚Šã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’ä»˜ã‘ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã¯ãƒ»ãƒ»ãƒ»

å‡¦ç†ã®ã‹ãŸã¾ã‚Šã€ã²ã¨ã¤ã®å½¹å‰²ã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’ä»˜ã‘ã¦ã„ãŸã‚‰ã€ã€Œä¸å‰ãªã«ãŠã„ã€ã¨ã—ã¦æ„Ÿã˜å–ã£ã¦ãã ã•ã„ã€‚

å‡¦ç†ã®ã‹ãŸã¾ã‚Šã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’ä½¿ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã¯ã€ãã®ã²ã¨ããã‚Šã®å‡¦ç†ã«ã¯ã²ã¨ã¤ã®æ˜ç¢ºãªå½¹å‰²ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚
ã™ãªã‚ã¡ã€ãã‚Œã¯ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦åˆ‡ã‚Šå‡ºã›ã‚‹ã‚ˆã†ãªå‡¦ç†ã‚’ã€ãƒ¡ã‚½ãƒƒãƒ‰ã«åˆ‡ã‚Šå‡ºã›ã¦ã„ãªã„ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚

ã²ã¨ã¤ã²ã¨ã¤ã®å½¹å‰²ã‚’ãƒ¡ã‚½ãƒƒãƒ‰ã«åˆ‡ã‚Šå‡ºã™ã“ã¨ã§ã€å‡¦ç†ãŒèª­ã¿ã‚„ã™ãã€ã¾ãŸå‡¦ç†ã®å†åˆ©ç”¨æ€§ã‚‚é«˜ããªã‚Šã¾ã™ã€‚

å‡¦ç†ã®ã‹ãŸã¾ã‚Šã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’ä»˜ã‘ã‚ˆã†ã¨ã—ã¦ã„ãŸã‚‰ã€æ³¨æ„ã—ã¾ã—ã‚‡ã†ã€‚

## ç·´ç¿’å•é¡Œï¼ˆæ™‚é–“: 20 åˆ†ï¼‰

æ¬¡ã®ã‚¯ãƒ©ã‚¹ UsageFileWriter ã«ã¤ã„ã¦ã€å‡¦ç†ã®ã‹ãŸã¾ã‚Šã«ã‚³ãƒ¡ãƒ³ãƒˆãŒä»˜ã„ã¦ã„ã‚‹ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€ãƒ¡ã‚½ãƒƒãƒ‰åŒ–ã§ãã¦ã„ãªã„

å‡¦ç†ãŒèª­ã¿ã‚„ã™ããªã‚‹ã‚ˆã†ã«ã€ã²ã¨ã‹ãŸã¾ã‚Šã®å‡¦ç†ã‚’ãƒ¡ã‚½ãƒƒãƒ‰åŒ–ã—ãªã•ã„

### src/UsageFileWriter.java

```java
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.time.LocalDateTime;
import java.time.format.TextStyle;
import java.util.ArrayList;
import java.util.List;
import java.util.Locale;

public class UsageFileWriter {

    static final Path DIR_PATH = Paths.get("C:\\tmp");
    static final Path FILE_PATH = Paths.get("C:\\tmp\\test.txt");
    static final String QUOTE_CURSOR = ">";

    static final LocalDateTime NOW = LocalDateTime.now();
    static List<String> lines = new ArrayList<>();

    public static void main(String[] args) {

        String name = "å±±æœ¬ä¸€éƒ";
        int usageContent = 5;

        // ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å­˜åœ¨ç¢ºèª
        if (Files.exists(DIR_PATH)) {

            // ãƒ­ã‚°è¡¨ç¤º
            System.out.printf(
                "%s ã¯æ—¢ã«å­˜åœ¨ã—ã¾ã™. %n",
                DIR_PATH.toAbsolutePath().toString()
            );

        } else {
            // ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä½œæˆ
            try {
                Files.createDirectory(DIR_PATH);
            } catch (IOException e) {
                e.printStackTrace();
            }
        }

        // ãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ç¢ºèª
        if (Files.exists(FILE_PATH)) {

            // ãƒ­ã‚°è¡¨ç¤º
            System.out.printf(
                "%s ã¯æ—¢ã«å­˜åœ¨ã—ã¾ã™. %n",
                FILE_PATH.toAbsolutePath().toString()
            );

        } else {
            // ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
            try {
                Files.createFile(FILE_PATH);
            } catch (IOException e) {
                e.printStackTrace();
            }
        }

        //ã€€åˆ©ç”¨å›æ•°å†…å®¹ã®ä½œæˆ
        lines.add("åˆ©ç”¨å›æ•°");
        lines.add("-----");

        // åˆ©ç”¨æ—¥æ™‚ã®ä½œæˆ
        lines.add(
                String.format(
                        " - å‡ºåŠ›æ—¥æ™‚: %s-%s-%s(%s) %s:%s:%s",
                        NOW.getYear(),
                        NOW.getMonth(),
                        NOW.getDayOfMonth(),
                        NOW.getDayOfWeek()
                                .getDisplayName(
                                    TextStyle.SHORT, Locale.JAPANESE
                                ),
                        NOW.getHour(),
                        NOW.getMinute(),
                        NOW.getSecond()));

        // è©³ç´°å†…å®¹ã®ä½œæˆ
        lines.add(
                String.format(" - æ°å: %s", name));
        lines.add(
                String.format(" - å›æ•°: %s", usageContent));

        // ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®æ›¸ãè¾¼ã¿
        try {
            Files.write(FILE_PATH, lines);
        } catch (IOException e) {
            e.printStackTrace();
        }

        // ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã®èª­ã¿è¾¼ã¿
        List<String> readLines = new ArrayList<>();
        try {
            readLines = Files.readAllLines(FILE_PATH);
        } catch (IOException e) {
            e.printStackTrace();
        }

        // ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã®è¡¨ç¤º
        // ãƒ­ã‚°è¡¨ç¤º
        System.out.println("ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‚’è¡¨ç¤ºã—ã¾ã™...");
        for (String line : readLines) {
            System.out.printf("%s %s %n", QUOTE_CURSOR, line);
        }
    }
}
```

### UsageFileWriter ã®å®Ÿè¡Œçµæœ

`C:\tmp` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ãŸçŠ¶æ…‹ã§å®Ÿè¡Œ

```
C:\tmp ã¯æ—¢ã«å­˜åœ¨ã—ã¾ã™.
ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‚’è¡¨ç¤ºã—ã¾ã™...
> åˆ©ç”¨å›æ•°
> -----
>  - å‡ºåŠ›æ—¥æ™‚: 2021-JANUARY-7(æœ¨) 17:14:14
>  - æ°å: å±±æœ¬ä¸€éƒ
>  - å›æ•°: 5
```

## è§£ç­”ä¾‹

https://github.com/fs5013-furi-sutao/java-bootcamp-answers/blob/main/03.primary/19.add-comments-to-processing-chunks/src/

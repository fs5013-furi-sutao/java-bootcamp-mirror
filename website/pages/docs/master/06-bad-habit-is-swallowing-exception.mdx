---
title: 06. æ‚ªã„ç¿’æ…£ ğŸ˜ˆ ä¾‹å¤–ã®æ¡ã‚Šã¤ã¶ã—
section: 06.ãƒã‚¹ã‚¿ç·¨
slug: /master/06-bad-habit-is-swallowing-exception
order: 6
---

# 06. æ‚ªã„ç¿’æ…£ ğŸ˜ˆ ä¾‹å¤–ã®æ¡ã‚Šã¤ã¶ã—

<p class="goal">
  ä¾‹å¤–ã®æ¡ã‚Šã¤ã¶ã—ã‚’å®Ÿè£…ã—ã¦ã—ã¾ã†ã¨ã€ã©ã‚Œã ã‘å±é™ºã‹ã‚’å®Ÿæ„Ÿã§ãã‚‹ã“ã¨
</p>

## å­¦ç¿’

### ãƒã‚§ãƒƒã‚¯ä¾‹å¤–ã¨éãƒã‚§ãƒƒã‚¯ä¾‹å¤–ã‚’èªè­˜ã™ã‚‹

Java ã«ãŠã‘ã‚‹ãƒã‚§ãƒƒã‚¯ä¾‹å¤–ã¨éãƒã‚§ãƒƒã‚¯ä¾‹å¤–ã®é•ã„ã‚’ Web ã§èª¿ã¹ã¦ãã ã•ã„ã€‚
æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¯ã€ã€Œ [java ä¾‹å¤– æ¡ã‚Šã¤ã¶ã—](https://www.google.com/search?q=java+ä¾‹å¤–+try+catch) ã€ã§ã™ã€‚
3 ç¨®é¡ãã‚‰ã„èª¬æ˜è¨˜äº‹ã‚„ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚“ã§ã€ãƒã‚§ãƒƒã‚¯ä¾‹å¤–ã¨éãƒã‚§ãƒƒã‚¯ä¾‹å¤–ã€ãã‚Œãã‚Œã®ç‰¹å¾´ã¨æ‰±ã„æ–¹ã‚’ã¤ã‹ã¿ã¾ã—ã‚‡ã†ã€‚

### ä¾‹å¤–ã®æ¡ã‚Šã¤ã¶ã—ã¨ã¯

ä¾‹å¤–ã®æ¡ã‚Šã¤ã¶ã—ã¯ã€Exception swallowing ã¨ã‚‚å‘¼ã°ã‚Œã¾ã™ã€‚

ä¾‹å¤–ã®æ¡ã‚Šã¤ã¶ã—ãŒä½•ã‹ã‚’çŸ¥ã‚‹ã«ã¯ã€ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚‹ã®ãŒæ—©ã„ã§ã™ã€‚

```java
String target = "æ•°å­—ã§ã¯ãªã„";
try {
    int targetInt = Integer.parseInt(target);

} catch (NumberFormatException e) {
    // ä½•ã‚‚ã—ãªã„
}
```

ä¸Šè¨˜ã®å‡¦ç†ã‚ˆã†ã«ã€ã€Œä¾‹å¤–ã‚’ catch ã™ã‚‹ã‘ã©ãã®ä¸­ã§ã¯ä½•ã‚‚ã—ãªã„ã€ã“ã¨ã‚’æŒ‡ã—ã¦ã€Œæ¡ã‚Šã¤ã¶ã™ã€ã¨å‘¼ã³ã¾ã™ã€‚
ã“ã‚Œã¯ã€ãã‚‚ãã‚‚ try-catch ã‚’æ›¸ã‹ãªã„ã®ã¨ã¯å…¨ãé•ã†è¡Œç‚ºã§ã™ã€‚

ä¸Šè¨˜ã®å‡¦ç†ã®å®Ÿè¡Œçµæœã¯ã€æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
ã¤ã¾ã‚Šã€ä½•ã‚‚èµ·ãã¾ã›ã‚“ã€‚

```console

```

## éš è”½ã‚¨ãƒ©ãƒ¼

ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã›ãšä½•ã‚‚èµ·ããªã„ã®ãŒä½•ãŒæ‚ªã„ã®ã‹ï¼Ÿ
ãã‚Œã¯ä¾‹å¤–ãŒç™ºç”Ÿã—ãŸã®ã«ã€é–‹ç™ºè€…ãŒä½•ã‚‚æŠŠæ¡ã§ããªã„ã¨ã„ã†çŠ¶æ…‹ã“ããŒå¤§å•é¡Œãªã®ã§ã™ã€‚

ã“ã®ä¾‹å¤–ãŒéš ã•ã‚Œã¦ã—ã¾ã†äº‹è±¡ã®ã“ã¨ã‚’ã€ã‚¨ãƒ©ãƒ¼éš è”½ï¼ˆError hidingï¼‰ã¨å‘¼ã³ã¾ã™ã€‚

ä¾‹å¤–ãŒæ¡ã‚Šã¤ã¶ã•ã‚Œã¦ã—ã¾ã†ã¨ã€ãƒã‚°ã®åŸå› è¿½åŠã‚’é›£ã—ãã—ã€
ã‚·ã‚¹ãƒ†ãƒ ã«å–ã£ã¦è‡´å‘½çš„ãªã‚¨ãƒ©ãƒ¼ï¼ˆCritical errorï¼‰ã‚’çŸ¥ã‚‰ãªã„ã†ã¡ã«åŸ‹ã‚è¾¼ã‚“ã§ã—ã¾ã„ã¾ã™ã€‚

ãã®ãŸã‚ã€ã“ã†ã—ãŸç®‡æ‰€ã¯ã€Œã‚¢ãƒ—ãƒªã®ã‚µã‚¤ãƒ¬ãƒ³ãƒˆã‚­ãƒ©ãƒ¼ã€ã¨è¡¨ç¾ã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚

æ¯”è¼ƒã¨ã—ã¦ã€ä¸Šè¨˜ã®ä¾‹å¤–ã«å¯¾ã—ã¦ try-catch ã‚’æ›¸ã‹ãªã„ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã¿ã¾ã™ã€‚

```java
String target = "This is not a number.";
int targetInt = Integer.parseInt(target);
```

ã“ã®å‡¦ç†ã®å®Ÿè¡Œçµæœã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```java
Exception in thread "main" java.lang.NumberFormatException: For input string: "æ•°å­—ã§ã¯ãªã„"
        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
        at java.base/java.lang.Integer.parseInt(Integer.java:652)
        at java.base/java.lang.Integer.parseInt(Integer.java:770)
        at master.swallowing.excep.App.main(App.java:7)
```

### ã¾ã¨ã‚

ä¾‹å¤–ã®æ¡ã‚Šã¤ã¶ã—ã‚’è¡Œã†ã¨æ¬¡ã®ã“ã¨ãŒèµ·ã“ã‚Šã¾ã™ã€‚

- ä¾‹å¤–ãŒç™ºç”Ÿã—ãŸã“ã¨ã‚’ã€èª°ã‚‚çŸ¥ã‚‹ã“ã¨ãŒã§ããªã„
- ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ãã®ã¾ã¾å®Ÿè¡Œã•ã‚Œç¶šã‘ã‚‹

ã“ã‚Œã«ã‚ˆã‚Šã€å•é¡Œèª¿æŸ»ãŒå›°é›£ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€ä¾‹å¤–ã®æ¡ã‚Šã¤ã¶ã—ã¯é¿ã‘ã‚‹ã¹ãã§ã™ã€‚

ç‰¹ã«æ¥­å‹™ã§è£½é€ ã™ã‚‹ã‚ˆã†ãªã‚¢ãƒ—ãƒªã‚„ã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã¯ã€ä¾‹å¤–ã‚’ã‚­ãƒ£ãƒƒãƒã—ãŸç®‡æ‰€ã§ã€
ãƒ­ã‚°ã«ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’è¨˜éŒ²ã™ã‚‹å‡¦ç†ã‚’ã€å¿…ãšå®Ÿè£…ã—ã¾ã—ã‚‡ã†ã€‚

## ç·´ç¿’å•é¡Œï¼ˆæ™‚é–“: 20 åˆ†ï¼‰

æ¬¡ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¤ã„ã¦ã€ä¾‹å¤–ãŒç™ºç”Ÿã—ãŸã“ã¨ãŒéš è”½ã•ã‚Œãªã„ã‚ˆã†ã«ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ãªã•ã„

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯æ¬¡ã® 3 ã¤ã®ã‚¯ãƒ©ã‚¹ã‹ã‚‰ãªã‚‹

1. Book.java
2. Library.java
3. Librarian.java

### 1. Book.java

```java
public class Book {

    private String title;
    private String author;

    public Book(String title) {
        this.title = title;
    }

    public Book(String title, String author) {
        this.title = title;
        this.author = author;
    }

    public String getTitle() {
        return title;
    }

    public String getAuthor() {
        return author;
    }

    public void showDetails() {
        System.out.format(
            "[Title] %s, [Author ã®ç™»éŒ²] %s %n",
            this.title,
            showIsBlankAuthor());
    }

    private String showIsBlankAuthor() {
        if (this.author.equals("")) {
            return "ãªã—";
        }
        return "ã‚ã‚Š";
    }
}
```

### 2. Library.java

```java
import java.util.ArrayList;
import java.util.List;

public class Library {

    private List<Book> books;

    public Library() {
        this.books = new ArrayList<>();
    }

    public void addBooks(Book... books) {
        for (Book book : books) {
            this.books.add(book);
        }
    }

    public Book getBookIndexOf(int index) {
        return this.books.get(index);
    }

    public int getNumberOfBooks() {
        return this.books.size();
    }
}
```

### 3. Librarian.java

```java
public class Librarian {
    public static void main(String[] args) {

        Book[] books = {
                new Book("æª¸æª¬", "æ¢¶äº•åŸºæ¬¡éƒ"),
                new Book("å¹³å®¶ç‰©èª"),
                new Book("ãƒ‹ã‚³ãƒã‚³ã‚¹å€«ç†å­¦", "ã‚¢ãƒªã‚¹ãƒˆãƒ†ãƒ¬ã‚¹"),
                new Book("ã“ã“ã‚", "å¤ç›®æ¼±çŸ³"),
        };

        Library library = new Library();
        library.addBooks(books);

        for (int i = 0; i < library.getNumberOfBooks(); i++) {
            Book targetBook = library.getBookIndexOf(i);
            try {
                targetBook.showDetails();
            } catch (Exception e) {
                // TODO: å¾Œã§å®Ÿè£…ã‚’æ±ºã‚ã‚‹
            }
        }
    }
}
```

### ä¿®æ­£å‰ã® Librarian.java ã®å®Ÿè¡Œçµæœ

```console
[Title] æª¸æª¬, [Author ã®ç™»éŒ²] ã‚ã‚Š
[Title] ãƒ‹ã‚³ãƒã‚³ã‚¹å€«ç†å­¦, [Author ã®ç™»éŒ²] ã‚ã‚Š
[Title] ã“ã“ã‚, [Author ã®ç™»éŒ²] ã‚ã‚Š
```

### ä¿®æ­£å¾Œã® Librarian.java ã®æœŸå¾…ã™ã‚‹çµæœ

```console
[Title] æª¸æª¬, [Author ã®ç™»éŒ²] ã‚ã‚Š
java.lang.NullPointerException
        at Book.showIsBlankAuthor(Book.java:31)
        at Book.showDetails(Book.java:27)
        at Librarian.main(Librarian.java:17)
[Title] ãƒ‹ã‚³ãƒã‚³ã‚¹å€«ç†å­¦, [Author ã®ç™»éŒ²] ã‚ã‚Š
[Title] ã“ã“ã‚, [Author ã®ç™»éŒ²] ã‚ã‚Š
```

## è§£ç­”ä¾‹

https://github.com/fs5013-furi-sutao/java-bootcamp-answers/blob/main/06.master/06-bad-habit-is-swallowing-exception/src
